# 🌌 藏在声音里的图片  
### A Modern Homage to the Voyager Golden Record

> **“把人类的图像，刻进声音的波纹里。”**

本程序受 NASA **旅行者一号**（Voyager 1）所携带的 **“金唱片”**（Golden Record） 启发——那张于 1977 年飞向星际空间的镀金铜盘，用**模拟音频信号**记录了地球的声音、音乐与 115 幅图像，希望有朝一日被宇宙中的智慧生命解读。

而在这里，我们以数字方式重现这一浪漫构想：  
将一张图像直接编码为一段连续的音频。  
播放它时，图像会随着声波的流淌，在屏幕上缓缓浮现——  
**仿佛外星文明正在“聆听”并重建我们的视觉世界。**

这不是隐写术，而是一次跨模态的诗意转译：**视觉 ↔ 听觉**。

---

## 🔧 核心原理

- 每个像素 → 一个纯音（正弦波）  
  - 黑色（0） → **500 Hz**  
  - 白色（255） → **3000 Hz**
- 图像按 **行**（row-wise） 或 **列**（col-wise） 顺序扫描
- 音频时长 = 总像素数 × 每像素采样点数 ÷ 采样率
- 解码时**同步播放音频**，并**实时绘制已“接收”的像素**

---

## 📦 安装依赖

项目依赖已整理至 `requirements.txt`：

```bash
pip install -r requirements.txt
```

> 💡 依赖说明：  
> - `numpy`, `scipy`：信号处理与 FFT 分析  
> - `Pillow`：图像加载与保存  
> - `pygame`：音频播放 + 实时绘图（需图形界面支持）

---

## 🚀 使用方式

### 1. 编码：图像 → 声音
```bash
python app.py encode your_image.jpg signal.wav
```
- 输入：任意图像（自动转为 512×512 灰度图，非 1:1 图可能会被拉伸或压扁）
- 输出：单声道 WAV 文件，可直接播放或分享

### 2. 解码：**边播放边实时绘制图像**
```bash
python app.py draw signal.wav recovered.png
```
- 程序将**播放音频**，同时在窗口中**逐像素重建图像**
- 最终图像自动保存为 `recovered.png`
- 由于电脑解码速度大于音频播放的速度，如果音频长度很长，在图片绘制完成后音频会继续播放，关闭窗口即可。

> ⚠️ 注意：此 `draw` 模式是**真正的盲解码**，完全从音频中恢复图像，致敬金唱片“无说明书也能被理解”的理想。

---

## ⚙️ 可调参数（编辑 `app.py` 顶部）

| 参数 | 默认值 | 说明 |
|------|--------|------|
| `F_MIN` / `F_MAX` | 500 / 3000 Hz | 灰度映射的频率范围 |
| `IMAGE_SIZE` | (512, 512) | 所有图像统一缩放至此尺寸 |
| `ENCODE_DIRECTION` | `"col"` | `"row"`（逐行绘制）或 `"col"`（逐列展开） |
| `SAMPLES_PER_PIXEL` | 128 | 每像素对应的音频采样点数（值越大，频率越稳定，音频越长） |
| `volume`（最下方） | 0.1 | 播放音量（建议 ≤0.3，避免高频刺耳） |

---

## 🎥 视觉体验

- **`"row"` 模式**：如老式 CRT 电视，画面从顶部逐行“生长”  
- **`"col"` 模式**：如卷轴缓缓展开，图像从左侧铺陈而出  

---

## 🌠 致敬 Voyager

旅行者金唱片使用**模拟调频**将图像编码为音频轨道，需配合说明书才能解码。  
而本程序以极简数字方式重现这一思想——**无需说明书，只需耳朵与眼睛**。

> “这是来自一个遥远而微小世界的礼物……上面记载着我们的声音、科学、图像、音乐、思想和情感。”  
> —— 卡尔·萨根（Carl Sagan）

我们或许永远无法收到外星回信，  
但至少，可以让一张照片，**唱出自己的故事**。

---

## ❗ 注意事项

- 音频由高频正弦波组成（500–3000 Hz），**请先调低音量试听**，避免不适。
- 推荐使用**高对比度图像**（如素描、剪影、天文照片、文字）以获得更清晰的频率变化。
- 当前实现基于**频率峰值检测**，复杂纹理或渐变区域可能存在轻微失真——这恰似星际通信中的“噪声”，也是诗意的一部分。

---

## 📡 发射你的“个人金唱片”

将 `signal.wav` 发送给朋友，  
让他们运行 `draw` 模式，  
亲眼见证：**一段声音，如何在寂静中生长出一幅画**。

> **代码即信使，声波即画笔。**
